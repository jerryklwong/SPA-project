<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 å»£æ±å…¨åŸŸè‡ªé§•éŠ | Family Trip</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;700;900&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Zen Maru Gothic', sans-serif;
            background-color: #FFFDF5;
            background-image: radial-gradient(#E5E7EB 1px, transparent 1px);
            background-size: 20px 20px;
            overflow: hidden;
        }

        #app-container {
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        #top-nav {
            flex: 0 0 auto;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 4px solid #84A98C;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            z-index: 50;
            padding: 10px 0;
        }

        #content-area {
            flex: 1 1 auto;
            overflow-y: auto;
            padding: 20px;
            scroll-behavior: smooth;
        }

        .manga-card {
            background: white;
            border: 3px solid #374151;
            border-radius: 16px;
            box-shadow: 8px 8px 0px rgba(132, 169, 140, 0.4);
            transition: transform 0.2s;
            overflow: hidden;
            position: relative;
        }
        .manga-card:hover {
            transform: translateY(-2px);
        }

        /* Action Button Logic */
        .action-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 70px;
            height: 100%;
            color: #9CA3AF;
            transition: all 0.3s ease;
            cursor: pointer;
            text-decoration: none;
            background-color: #FAFAFA;
            border-left: 2px dashed #E5E7EB;
        }
        .action-btn:hover {
            color: #EC4899;
            background-color: #FDF2F8;
        }
        .action-btn .icon-circle {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border: 2px solid #D1D5DB;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 4px;
            background: white;
            transition: border-color 0.3s;
        }
        .action-btn:hover .icon-circle {
            border-color: #EC4899;
            background: white;
        }

        .nav-btn {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 2px solid transparent;
        }
        .nav-btn.active {
            background-color: #FFB7B2;
            color: white;
            border: 2px solid #FF6F61;
            transform: scale(1.05);
            box-shadow: 0 4px 6px rgba(255, 111, 97, 0.3);
        }
        .nav-btn:hover:not(.active) {
            background-color: #F0FDF4;
            color: #2F855A;
        }

        #content-area::-webkit-scrollbar { width: 8px; }
        #content-area::-webkit-scrollbar-track { background: #f1f1f1; }
        #content-area::-webkit-scrollbar-thumb { background: #84A98C; border-radius: 4px; }

        .speech-bubble {
            position: relative;
            background: #E0F2FE;
            border-radius: .4em;
            padding: 10px;
        }
        .speech-bubble:after {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            width: 0;
            height: 0;
            border: 10px solid transparent;
            border-right-color: #E0F2FE;
            border-left: 0;
            margin-top: -10px;
            margin-left: -10px;
        }
    </style>
</head>
<body>

<div id="app-container">
    
    <!-- UPPER ROW: Navigation -->
    <header id="top-nav">
        <div class="max-w-7xl mx-auto px-2">
            <div class="flex items-center justify-between mb-2 px-2">
                <div class="flex items-center gap-2">
                    <div class="bg-yellow-400 text-white p-2 rounded-full border-2 border-gray-700">
                        <i class="fa-solid fa-car"></i>
                    </div>
                    <h1 class="text-xl md:text-2xl font-black text-gray-700 tracking-wider">å¤§ç£å€ç’°ç·šéŠ</h1>
                </div>
                <div class="text-xs md:text-sm font-bold text-gray-500 bg-gray-100 px-3 py-1 rounded-full">
                    <i class="fa-solid fa-route"></i> ç â”ç©—â”æ¸…â”ä¸­
                </div>
            </div>

            <div class="flex space-x-3 overflow-x-auto pb-2 px-2 no-scrollbar" style="scrollbar-width: none;">
                <button onclick="renderDay(0)" id="btn-0" class="nav-btn active flex-shrink-0 px-4 py-2 rounded-xl text-sm md:text-base font-bold text-gray-600 bg-white shadow-sm border border-gray-200">
                    <div class="text-xs opacity-70">1/14 ç æµ·</div>
                    <div>ç¬¬ä¸€å¤©</div>
                </button>
                <button onclick="renderDay(1)" id="btn-1" class="nav-btn flex-shrink-0 px-4 py-2 rounded-xl text-sm md:text-base font-bold text-gray-600 bg-white shadow-sm border border-gray-200">
                    <div class="text-xs opacity-70">1/15 å»£å·</div>
                    <div>ç¬¬äºŒå¤©</div>
                </button>
                <button onclick="renderDay(2)" id="btn-2" class="nav-btn flex-shrink-0 px-4 py-2 rounded-xl text-sm md:text-base font-bold text-gray-600 bg-white shadow-sm border border-gray-200">
                    <div class="text-xs opacity-70">1/16 æ¸…é </div>
                    <div class="text-purple-600 font-black">æ¥äºº</div>
                </button>
                <button onclick="renderDay(3)" id="btn-3" class="nav-btn flex-shrink-0 px-4 py-2 rounded-xl text-sm md:text-base font-bold text-gray-600 bg-white shadow-sm border border-gray-200">
                    <div class="text-xs opacity-70">1/17 ä¸­å±±</div>
                    <div class="text-red-500 font-black">æ‹œç¥­</div>
                </button>
                <button onclick="renderDay(4)" id="btn-4" class="nav-btn flex-shrink-0 px-4 py-2 rounded-xl text-sm md:text-base font-bold text-gray-600 bg-white shadow-sm border border-gray-200">
                    <div class="text-xs opacity-70">1/18 å›ç¨‹</div>
                    <div class="text-blue-600 font-black">å±±å§†</div>
                </button>
                <button onclick="renderBudget()" id="btn-budget" class="nav-btn flex-shrink-0 px-4 py-2 rounded-xl text-sm md:text-base font-bold text-gray-600 bg-white shadow-sm border border-gray-200">
                    <div class="text-xs opacity-70">Info</div>
                    <div>é ç®—</div>
                </button>
            </div>
        </div>
    </header>

    <!-- LOWER ROW: Content -->
    <main id="content-area">
        <div id="main-content" class="max-w-4xl mx-auto space-y-6">
            <!-- Content Injected Here -->
        </div>
    </main>
</div>

<script>
    // --- Trip Data (New Route: Zhuhai -> GZ -> Qingyuan -> Zhongshan -> Home) ---
    const tripData = [
        {
            date: "1æœˆ14æ—¥ (é€±ä¸‰)",
            dayNum: "ç¬¬ä¸€ç«™ï¼šç æµ·å•Ÿç¨‹",
            location: "é¦™æ¸¯ â” ç æµ·",
            weather: "æ™´æœ— 18Â°C",
            characters: ["çˆ¸çˆ¸", "åª½åª½", "BB"],
            highlight: "å¤§æ©‹è‡ªé§• x æ¿•åœ°å…¬åœ’",
            story: "å†’éšªé–‹å§‹ï¼ç¬¬ä¸€å¤©æˆ‘å€‘è¼•é¬†é»ï¼Œéæ©‹å¾Œå°±åœ¨æ©«ç´ç©ï¼Œè®“ BB é©æ‡‰å‡ºé–€çš„ç¯€å¥ã€‚",
            timeline: [
                { 
                    time: "09:30", 
                    icon: "fa-car-side", 
                    title: "ç¶“æ¸¯ç æ¾³å¤§æ©‹", 
                    desc: "ä¸€è»Šä¸‰äººå‡ºç™¼ï¼è¨˜å¾—å¸¶é½Šè­‰ä»¶ã€‚äº«å—å¤§æ©‹æµ·æ™¯ã€‚", 
                    sourceUrl: "https://www.hzmb.gov.hk/tc/", 
                    linkIcon: "fa-bridge-water", 
                    linkText: "è·¯æ³" 
                },
                { 
                    time: "12:00", 
                    icon: "fa-utensils", 
                    title: "æ©«ç´è¾²èŠåˆé¤", 
                    desc: "æ‰¾ä¸€å®¶æœ‰æˆ¶å¤–ç©ºé–“çš„è¾²èŠï¼Œç©ºæ°£å¥½ï¼ŒBB ä¹Ÿèƒ½èµ°èµ°ã€‚", 
                    sourceUrl: "https://m.dianping.com/zhuhai/ch10", 
                    linkIcon: "fa-bowl-rice", 
                    linkText: "æµé£Ÿ" 
                },
                { 
                    time: "14:30", 
                    icon: "fa-leaf", 
                    title: "èŠ’æ´²æ¿•åœ°å…¬åœ’", 
                    desc: "è¶…å¤§è‰åœ°ï¼é‹ªå¥½é‡é¤å¢Šï¼Œé€™æ˜¯æœ€é©åˆ 1 æ­² BB çš„æ´»å‹•ã€‚", 
                    sourceUrl: "https://hk.trip.com/travel-guide/attraction/zhuhai/mangzhou-wetland-park-56645396/", 
                    linkIcon: "fa-tree", 
                    linkText: "å…¬åœ’" 
                },
                { 
                    time: "17:30", 
                    icon: "fa-bed", 
                    title: "ä½å®¿ï¼šç æµ·æ©«ç´å¸Œçˆ¾é “æ­¡æœ‹", 
                    desc: "ã€ç¬¬1æ™šã€‘ä»Šæ™šä½ç æµ·ã€‚é¸æ“‡å“ç‰Œé€£é–ï¼Œè¡›ç”Ÿæœ‰ä¿è­‰ï¼Œç‚ºæ˜å¤©å»å»£å·é¤Šç²¾è“„éŠ³ã€‚", 
                    sourceUrl: "https://hk.trip.com/hotels/list?city=31&starDep=4", 
                    linkIcon: "fa-hotel", 
                    linkText: "é…’åº—" 
                }
            ],
            tip: "æ©«ç´å¾ˆå¤šè·¯æ®µæ¯”è¼ƒæ–°ï¼Œå»ºè­°ç”¨é«˜å¾·åœ°åœ–å°èˆªæ¯”è¼ƒæº–ç¢ºã€‚"
        },
        {
            date: "1æœˆ15æ—¥ (é€±å››)",
            dayNum: "ç¬¬äºŒç«™ï¼šç¾ŠåŸå°‹å‘³",
            location: "ç æµ· â” å»£å·(ç•ªç¦º)",
            weather: "å¤šé›² 17Â°C",
            characters: ["çˆ¸çˆ¸", "åª½åª½", "BB"],
            highlight: "å¶ºå—åœ’æ— x å»£åºœç¾é£Ÿ",
            story: "å‘åŒ—é€²ç™¼ï¼ç´„ 1.5 å°æ™‚è»Šç¨‹å»å»£å·ç•ªç¦ºã€‚æˆ‘å€‘ä¸ä½å¸‚ä¸­å¿ƒé¿é–‹æ“å µï¼Œé¸æ“‡ä¼‘é–’çš„ç•ªç¦ºå€ã€‚",
            timeline: [
                { 
                    time: "10:30", 
                    icon: "fa-route", 
                    title: "å‰å¾€å»£å·ç•ªç¦º", 
                    desc: "è‡ªé§•å‰å¾€ç•ªç¦ºã€‚æ²¿é€”è·¯æ³è‰¯å¥½ï¼Œå‰›å¥½æ˜¯ BB çš„åˆç¡æ™‚é–“ã€‚", 
                    sourceUrl: null, 
                    linkIcon: "fa-car", 
                    linkText: "å°èˆª" 
                },
                { 
                    time: "13:00", 
                    icon: "fa-utensils", 
                    title: "ç•ªç¦ºé£²èŒ¶/ç§æˆ¿èœ", 
                    desc: "ã€Œé£Ÿåœ¨å»£å·ï¼Œå‘³åœ¨ç•ªç¦ºã€ã€‚æ‰¾å®¶è€å­—è™ŸèŒ¶æ¨“å˜†ä¸€ç›…å…©ä»¶ã€‚", 
                    sourceUrl: "https://m.dianping.com/guangzhou/ch10/r1607", 
                    linkIcon: "fa-basket-shopping", 
                    linkText: "ç¾é£Ÿ" 
                },
                { 
                    time: "15:00", 
                    icon: "fa-fan", 
                    title: "å¯¶å¢¨åœ’ / å…’ç«¥å…¬åœ’", 
                    desc: "é€›é€›å¶ºå—åœ’æ—ï¼ˆå¯¶å¢¨åœ’ï¼‰é¤µéŒ¦é¯‰ï¼Œæˆ–è€…å»ç•ªç¦ºå…’ç«¥å…¬åœ’æ”¾é›»ã€‚", 
                    sourceUrl: "https://you.ctrip.com/sight/guangzhou152/4530.html", 
                    linkIcon: "fa-fish", 
                    linkText: "æ™¯é»" 
                },
                { 
                    time: "18:30", 
                    icon: "fa-bed", 
                    title: "ä½å®¿ï¼šå»£å·ç•ªç¦ºäºæœµé…’åº—", 
                    desc: "ã€ç¬¬2æ™šã€‘å…¥ä½ç•ªç¦ºå€çš„äºæœµ/æ­¡æœ‹ã€‚é¿é–‹å»£å·å¸‚å€çš„å¡è»Šï¼Œæ€§åƒ¹æ¯”æ›´é«˜ï¼Œåœè»Šä¹Ÿæ–¹ä¾¿ã€‚", 
                    sourceUrl: "https://hk.trip.com/hotels/list?city=152&districtId=40&starDep=4", 
                    linkIcon: "fa-hotel", 
                    linkText: "è¨‚æˆ¿" 
                }
            ],
            tip: "ç•ªç¦ºç¾é£Ÿå¤šï¼Œä¸”æ¯”èµ·å»£å·å¸‚ä¸­å¿ƒï¼ˆå¤©æ²³/è¶Šç§€ï¼‰ï¼Œåœè»Šä½æ›´å®¹æ˜“æ‰¾ã€‚"
        },
        {
            date: "1æœˆ16æ—¥ (é€±äº”)",
            dayNum: "ç¬¬ä¸‰ç«™ï¼šæ¸…é é›†åˆ",
            location: "å»£å· â” æ¸…é ",
            weather: "å¾®æ¶¼ 15Â°C",
            characters: ["çˆ¸çˆ¸", "åª½åª½", "BB", "+å§‘åª½", "+è¡¨å“¥"],
            highlight: "æ¥äººæ—¥ x åœ˜åœ“é›ç…²",
            story: "ç¹¼çºŒåŒ—ä¸Šï¼è»Šç¨‹å¾ˆçŸ­ï¼ˆç´„1å°æ™‚ï¼‰ã€‚ä»Šæ™šéšŠä¼å°±è¦å£¯å¤§å•¦ï¼",
            timeline: [
                { 
                    time: "11:00", 
                    icon: "fa-car", 
                    title: "å‰å¾€æ¸…é ", 
                    desc: "ç¡å€‹æ‡¶è¦ºå†å‡ºç™¼ã€‚å»£å·å»æ¸…é å¾ˆå¿«ï¼Œä¸­åˆå°±åˆ°ã€‚", 
                    sourceUrl: null, 
                    linkIcon: "fa-route", 
                    linkText: "å‡ºç™¼" 
                },
                { 
                    time: "14:00", 
                    icon: "fa-water", 
                    title: "æ±Ÿé‚Šæ¼«æ­¥/ä¼‘æ•´", 
                    desc: "å…¥ä½é…’åº—å¾Œï¼Œå»é£›ä¾†æ¹–æˆ–åŒ—æ±Ÿé‚Šèµ°èµ°ï¼Œç­‰å¾…æ™šä¸Šçš„æ¥äººä»»å‹™ã€‚", 
                    sourceUrl: "https://you.ctrip.com/sight/qingyuan462/141075.html", 
                    linkIcon: "fa-tree", 
                    linkText: "æ±Ÿæ™¯" 
                },
                { 
                    time: "19:00", 
                    icon: "fa-handshake", 
                    title: "æ¸…é ç«™æ¥äºº", 
                    desc: "ã€é‡è¦ã€‘é–‹è»Šå»é«˜éµç«™æ¥å§‘åª½å’Œè¡¨å“¥ã€‚å¾Œè»Šå»‚è¦æ•´ç†å¥½ä½ç½®æ”¾è¡Œæå“¦ï¼", 
                    special: true, 
                    sourceUrl: "https://www.google.com/maps/search/Qingyuan+Railway+Station", 
                    linkIcon: "fa-train", 
                    linkText: "è»Šç«™" 
                },
                { 
                    time: "20:00", 
                    icon: "fa-drumstick-bite", 
                    title: "åœ˜åœ“æ¸…é é›", 
                    desc: "5 äººé½Šäº†ï¼ç•¶ç„¶è¦åƒæœ€æ­£å®—çš„æ¸…é é›ç…²æ…¶ç¥ã€‚", 
                    sourceUrl: "https://m.dianping.com/qingyuan/ch10/g110", 
                    linkIcon: "fa-users", 
                    linkText: "èšé¤" 
                },
                { 
                    time: "21:30", 
                    icon: "fa-bed", 
                    title: "ä½å®¿ï¼šæ¸…é æ¸…åŸå¸Œçˆ¾é “æ­¡æœ‹", 
                    desc: "ã€ç¬¬3æ™šã€‘å…¥ä½æ¸…é å¸‚å€ã€‚é€™è£¡é›¢æ˜æ—©æ‹œç¥­åœ°é»å’Œé«˜é€Ÿè·¯å£éƒ½æ¯”è¼ƒè¿‘ã€‚", 
                    sourceUrl: "https://hk.trip.com/hotels/list?city=462&starDep=4", 
                    linkIcon: "fa-check", 
                    linkText: "å…¥ä½" 
                }
            ],
            tip: "ä»Šæ™šæ—©é»ä¼‘æ¯ï¼Œæ˜å¤©é‚„è¦é–‹é•·é€”è»Šå»ä¸­å±±ã€‚"
        },
        {
            date: "1æœˆ17æ—¥ (é€±å…­)",
            dayNum: "ç¬¬å››ç«™ï¼šä¸­å±±ä¹³é´¿",
            location: "æ¸…é (æ‹œç¥­) â” ä¸­å±±",
            weather: "æ™´æœ— 18Â°C",
            characters: ["å…¨å®¶5äºº"],
            highlight: "æ—©ä¸Šæ‹œç¥­ x ä¸‹åˆé•·é€”è½‰å ´",
            story: "ä»Šå¤©è¦é•·é€”ç§»å‹•ã€‚æ—©ä¸Šå®Œæˆæ‹œç¥­ä»»å‹™å¾Œï¼Œæˆ‘å€‘ä¸€è·¯å‘å—ï¼Œç›´å¥”ä¸­å±±ç¾é£Ÿï¼",
            timeline: [
                { 
                    time: "09:00", 
                    icon: "fa-hands-praying", 
                    title: "æ¸…é æ‹œç¥­", 
                    desc: "ã€é‡é»è¡Œç¨‹ã€‘æ—©ä¸Šé€²è¡Œå®¶æ—æ‹œç¥­ã€‚é ç•™ **2å°æ™‚**ã€‚è«‹æº–å‚™å¥½ç¥­å“ã€‚", 
                    special: true, 
                    sourceUrl: null, 
                    linkIcon: "fa-heart", 
                    linkText: "æ‹œç¥­" 
                },
                { 
                    time: "12:00", 
                    icon: "fa-bowl-rice", 
                    title: "ç°¡å–®åˆé¤", 
                    desc: "åœ¨æ¸…é åƒå®Œåˆé¤å¾Œï¼Œæº–å‚™å‡ºç™¼ã€‚", 
                    sourceUrl: null, 
                    linkIcon: "fa-utensils", 
                    linkText: "åˆé¤" 
                },
                { 
                    time: "13:30", 
                    icon: "fa-road", 
                    title: "è½‰å ´å»ä¸­å±±", 
                    desc: "è»Šç¨‹è¼ƒé•· (ç´„ 2.5 - 3 å°æ™‚)ã€‚å‰›å¥½æ˜¯ BB å’Œå¤§å®¶çš„åˆç¡æ™‚é–“ã€‚çˆ¸çˆ¸è¾›è‹¦äº†ï¼", 
                    sourceUrl: null, 
                    linkIcon: "fa-car-side", 
                    linkText: "é•·é€”" 
                },
                { 
                    time: "17:00", 
                    icon: "fa-dove", 
                    title: "ä¸­å±±ä¹³é´¿æ™šé¤", 
                    desc: "æŠµé”ä¸­å±±ï¼æ™šé¤å¿…åƒçŸ³å²ä¹³é´¿ã€‚æ¨è–¦ï¼šçŸ³å²ä½¬æˆ–é´¿é³¥è»’ã€‚", 
                    sourceUrl: "https://m.dianping.com/zhongshan/ch10/g110", 
                    linkIcon: "fa-thumbs-up", 
                    linkText: "ä¹³é´¿" 
                },
                { 
                    time: "20:00", 
                    icon: "fa-bed", 
                    title: "ä½å®¿ï¼šä¸­å±±ä¸­å¿ƒäºæœµ/å–œä¾†ç™»", 
                    desc: "ã€ç¬¬4æ™šã€‘å…¥ä½ä¸­å±±å¸‚å€ã€‚å¯ä»¥å»å­«æ–‡è¥¿è·¯æ­¥è¡Œè¡—æ•£æ­¥ï¼Œæˆ–è€…æ—©é»ä¼‘æ¯ã€‚", 
                    sourceUrl: "https://hk.trip.com/hotels/list?city=552&starDep=4", 
                    linkIcon: "fa-hotel", 
                    linkText: "è¨‚æˆ¿" 
                }
            ],
            tip: "æ¸…é åˆ°ä¸­å±±è·¯ç¨‹è¼ƒé ï¼Œä¸­é€”å»ºè­°åœ¨ã€Œå»£å·ç¹åŸé«˜é€Ÿã€çš„æœå‹™å€ä¼‘æ¯ä¸€æ¬¡ã€‚"
        },
        {
            date: "1æœˆ18æ—¥ (é€±æ—¥)",
            dayNum: "çµ‚ç« ï¼šæ»¿è¼‰è€Œæ­¸",
            location: "ä¸­å±± â” ç æµ·å±±å§† â” é¦™æ¸¯",
            weather: "å¤šé›² 16Â°C",
            characters: ["å…¨å®¶5äºº"],
            highlight: "å±±å§†æƒè²¨ x å¹³å®‰å›å®¶",
            story: "æ—…ç¨‹æœ€å¾Œä¸€å¤©ï¼å¾ä¸­å±±å»ç æµ·å¾ˆè¿‘ï¼Œè²·å¥½è²·æ»¿å†éé—œã€‚",
            timeline: [
                { 
                    time: "10:00", 
                    icon: "fa-mug-hot", 
                    title: "ä¸­å±±æ—©èŒ¶", 
                    desc: "åœ¨ä¸­å±±å˜†å€‹ã€Œä¸€ç›…å…©ä»¶ã€å†é€€æˆ¿ã€‚ä¸­å±±çš„é»å¿ƒå¾ˆå‡ºåå–”ï¼", 
                    sourceUrl: null, 
                    linkIcon: "fa-utensils", 
                    linkText: "é£²èŒ¶" 
                },
                { 
                    time: "13:00", 
                    icon: "fa-car", 
                    title: "å‰å¾€ç æµ·", 
                    desc: "ä¸­å±±å»ç æµ·åªéœ€ç´„ 40 åˆ†é˜ã€‚è¼•é¬†è»Šç¨‹ã€‚", 
                    sourceUrl: null, 
                    linkIcon: "fa-route", 
                    linkText: "å°èˆª" 
                },
                { 
                    time: "15:00", 
                    icon: "fa-cart-shopping", 
                    title: "ç æµ·å±±å§† (Sam's Club)", 
                    desc: "æœ€å¾Œè¡åˆºï¼å»å±±å§†è¶…å¸‚è²·æ‰‹ä¿¡ã€é›¶é£Ÿã€‚å¾Œè»Šå»‚è¦é ç•™ä½ç½®å•Šï¼", 
                    special: true,
                    sourceUrl: "https://www.google.com/maps/search/Zhuhai+Sam's+Club", 
                    linkIcon: "fa-shop", 
                    linkText: "å±±å§†" 
                },
                { 
                    time: "18:00", 
                    icon: "fa-triangle-exclamation", 
                    title: "ç¶“å¤§æ©‹å›æ¸¯", 
                    desc: "é€±æ—¥å‚æ™šæ˜¯éé—œé«˜å³°ã€‚è«‹ç•™æ„å³æ™‚äº¤é€šç‹€æ³ï¼Œå¹³å®‰å›å®¶ï¼", 
                    special: true,
                    sourceUrl: "https://www.hzmb.gov.hk/tc/traffic-conditions.html", 
                    linkIcon: "fa-traffic-light", 
                    linkText: "è·¯æ³" 
                }
            ],
            tip: "åœ¨å±±å§†è²·å†·å‡é£Ÿå“ï¼ˆå¦‚ç‰›è‚‰å·ï¼‰è¨˜å¾—è²·ä¿æº«è¢‹ï¼Œå›æ¸¯å‰›å¥½ã€‚"
        }
    ];

    const contentArea = document.getElementById('main-content');
    const buttons = document.querySelectorAll('.nav-btn');

    function setActiveButton(index) {
        buttons.forEach(btn => btn.classList.remove('active'));
        if (index === 'budget') {
            document.getElementById('btn-budget').classList.add('active');
        } else {
            document.getElementById(`btn-${index}`).classList.add('active');
        }
    }

    function renderDay(index) {
        setActiveButton(index);
        const day = tripData[index];
        
        let charHTML = day.characters.map(char => {
            let color = 'bg-gray-200';
            let icon = 'fa-user';
            if (char.includes('BB')) { color = 'bg-pink-200 text-pink-600'; icon = 'fa-baby'; }
            else if (char.includes('å…¨å®¶')) { color = 'bg-purple-200 text-purple-600'; icon = 'fa-users'; }
            else if (char.includes('çˆ¸')) { color = 'bg-green-200 text-green-600'; icon = 'fa-user-tie'; }
            else if (char.includes('åª½')) { color = 'bg-yellow-200 text-yellow-600'; icon = 'fa-person-dress'; }
            else if (char.includes('å§‘')) { color = 'bg-orange-200 text-orange-600'; icon = 'fa-user-group'; }
            
            return `<span class="inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-bold ${color}">
                <i class="fa-solid ${icon}"></i> ${char}
            </span>`;
        }).join(' ');

        let timelineHTML = day.timeline.map((item, idx) => {
            const isAlert = item.title.includes("å›æ¸¯") || item.title.includes("æ¥äºº");
            const isHotel = item.title.includes("ä½å®¿");
            
            let specialClass = 'border-l-4 border-blue-200';
            if (item.special) {
                specialClass = isAlert ? 'border-l-4 border-red-500 bg-red-50' : 'border-l-4 border-yellow-400 bg-yellow-50';
            } else if (isHotel) {
                specialClass = 'border-l-4 border-indigo-400 bg-indigo-50';
            }
            
            const linkHtml = item.sourceUrl ? `
                <div class="ml-4 pl-2 flex flex-col justify-center">
                    <a href="${item.sourceUrl}" target="_blank" class="action-btn group rounded-r-xl" title="æŸ¥çœ‹è©³æƒ…">
                        <div class="icon-circle shadow-sm">
                            <i class="fa-solid ${item.linkIcon} text-lg text-gray-400 group-hover:text-pink-500 transition-colors"></i>
                        </div>
                        <span class="text-xs font-bold text-gray-400 group-hover:text-pink-500 transition-colors">${item.linkText}</span>
                    </a>
                </div>
            ` : `
                <div class="ml-4 pl-2 flex flex-col justify-center opacity-30 cursor-default">
                    <div class="action-btn rounded-r-xl">
                        <div class="icon-circle">
                            <i class="fa-solid ${item.linkIcon} text-lg"></i>
                        </div>
                        <span class="text-xs font-bold">${item.linkText}</span>
                    </div>
                </div>
            `;

            return `
            <div class="relative pl-8 pb-8 group">
                <div class="absolute left-[11px] top-8 bottom-0 w-0.5 bg-gray-200 group-last:hidden"></div>
                <div class="absolute left-0 top-0 w-6 h-6 rounded-full bg-white border-2 border-gray-400 flex items-center justify-center z-10 text-xs text-gray-500">${idx + 1}</div>
                <div class="manga-card ${specialClass} flex flex-row p-0 min-h-[120px]">
                    <div class="flex-1 flex flex-col justify-between p-4">
                        <div>
                            <div class="flex justify-between items-start mb-1">
                                <span class="font-black text-xl text-gray-700 font-mono">${item.time}</span>
                            </div>
                            <h4 class="font-bold text-lg ${isAlert ? 'text-red-600' : 'text-gray-800'} mb-1 flex items-center gap-2">
                                ${item.title}
                                ${item.special ? '<i class="fa-solid fa-star text-yellow-500 text-xs animate-pulse"></i>' : ''}
                                ${isHotel ? '<i class="fa-solid fa-bed text-indigo-500 text-xs"></i>' : ''}
                            </h4>
                            <p class="text-gray-600 text-sm leading-relaxed">${item.desc}</p>
                        </div>
                        ${item.special ? (isAlert ? '<div class="mt-2 text-xs font-bold text-red-600 bg-red-100 p-1 rounded inline-block w-fit"><i class="fa-solid fa-triangle-exclamation"></i> æ³¨æ„æ™‚é–“</div>' : '<div class="mt-2 text-xs font-bold text-yellow-600 bg-yellow-100 p-1 rounded inline-block w-fit"><i class="fa-solid fa-star"></i> é‡é»è¡Œç¨‹</div>') : ''}
                        ${isHotel ? '<div class="mt-2 text-xs font-bold text-indigo-600 bg-indigo-100 p-1 rounded inline-block w-fit"><i class="fa-solid fa-moon"></i> æ™šå®‰ä¼‘æ¯</div>' : ''}
                    </div>
                    ${linkHtml}
                </div>
            </div>`;
        }).join('');

        const html = `
            <div class="manga-card bg-white p-0 relative overflow-hidden">
                <div class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-blue-400 via-pink-400 to-green-400"></div>
                <div class="p-6">
                    <div class="flex justify-between items-start">
                        <div>
                            <h2 class="text-3xl md:text-4xl font-black text-gray-800 mb-2">${day.dayNum}</h2>
                            <div class="text-lg font-bold text-gray-500 mb-4 flex items-center gap-2">
                                <i class="fa-solid fa-location-dot text-red-400"></i> ${day.location} 
                                <span class="text-gray-300">|</span> 
                                <i class="fa-solid fa-cloud text-blue-400"></i> ${day.weather}
                            </div>
                        </div>
                        <div class="hidden md:block bg-gray-800 text-white p-4 rounded-xl text-center shadow-lg transform rotate-3">
                            <div class="text-xs uppercase tracking-widest text-gray-400">JAN</div>
                            <div class="text-3xl font-black">${day.date.split('æœˆ')[1].split('æ—¥')[0]}</div>
                        </div>
                    </div>
                    <div class="flex flex-wrap gap-2 mb-6">${charHTML}</div>
                    <div class="flex gap-4 items-start">
                        <div class="w-12 h-12 rounded-full bg-gray-200 border-2 border-gray-400 flex-shrink-0 overflow-hidden">
                             <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix&backgroundColor=b6e3f4" alt="Narrator" />
                        </div>
                        <div class="speech-bubble flex-1 text-gray-700 font-medium">${day.story}</div>
                    </div>
                </div>
            </div>
            <div class="mt-8 px-2">
                <h3 class="text-xl font-bold text-gray-800 mb-6 pl-2 border-l-4 border-green-500">è¡Œç¨‹æ™‚é–“è»¸</h3>
                ${timelineHTML}
            </div>
            <div class="bg-yellow-100 border-2 border-yellow-400 rounded-xl p-4 flex gap-3 items-center shadow-sm">
                <i class="fa-solid fa-lightbulb text-yellow-600 text-xl"></i>
                <p class="text-yellow-800 text-sm font-bold">å°è²¼å£«ï¼š${day.tip}</p>
            </div>
            <div class="h-10"></div>
        `;
        contentArea.innerHTML = html;
        contentArea.scrollTop = 0;
    }

    function renderBudget() {
        setActiveButton('budget');
        const html = `
            <div class="manga-card p-6 bg-white">
                <h2 class="text-3xl font-black text-gray-800 mb-2">ğŸ’° ç’°ç·šéŠé ç®—è¡¨</h2>
                <p class="text-gray-500 mb-6">4åŸ5å¤©ï¼Œä¸èµ°å›é ­è·¯ï¼</p>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                    <div class="relative h-64 w-full">
                        <canvas id="budgetChart"></canvas>
                    </div>
                    
                    <div class="space-y-4">
                        <div class="bg-indigo-50 p-4 rounded-xl border border-indigo-100">
                            <div class="text-sm text-gray-500">ç¸½é ç®—ä¼°ç®— (æ¸¯å¹£)</div>
                            <div class="text-3xl font-black text-indigo-600">~$8,500</div>
                            <div class="text-xs text-indigo-500 mt-1">å«4æ™šé…’åº— + 5äººé¤é£²</div>
                        </div>
                        <ul class="space-y-2 text-sm text-gray-600">
                            <li class="flex justify-between border-b border-gray-100 pb-1">
                                <span><i class="fa-solid fa-bed text-purple-400 w-6"></i> é…’åº— (4æ™š:ç /ç©—/æ¸…/ä¸­)</span>
                                <span class="font-bold">$3,500</span>
                            </li>
                            <li class="flex justify-between border-b border-gray-100 pb-1">
                                <span><i class="fa-solid fa-utensils text-orange-400 w-6"></i> ç¾é£Ÿ (ä¹³é´¿/é›ç…²/èŒ¶)</span>
                                <span class="font-bold">$2,800</span>
                            </li>
                            <li class="flex justify-between border-b border-gray-100 pb-1">
                                <span><i class="fa-solid fa-gas-pump text-red-400 w-6"></i> äº¤é€š (ç’°ç·šé‡Œç¨‹è¼ƒé•·)</span>
                                <span class="font-bold">$1,500</span>
                            </li>
                            <li class="flex justify-between border-b border-gray-100 pb-1">
                                <span><i class="fa-solid fa-ticket text-blue-400 w-6"></i> é–€ç¥¨ & é›œé …</span>
                                <span class="font-bold">$700</span>
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="mt-8 bg-green-50 p-4 rounded-xl border-2 border-green-200 border-dashed text-center">
                    <p class="text-green-800 font-bold">åŸå¸‚åˆ‡æ›æé†’</p>
                    <p class="text-sm text-green-700 mt-2 text-left">
                    é€™æ¬¡è¡Œç¨‹æ©«è·¨ 4 å€‹åŸå¸‚ï¼Œæ¯å¤©éƒ½è¦æ›é…’åº—ã€‚å»ºè­°ä½¿ç”¨ã€Œè¼•ä¾¿è¡Œæè¢‹ã€è£ç•¶å¤©æ›æ´—è¡£ç‰©æ‹¿é€²é…’åº—ï¼Œå¤§ä»¶è¡Œæç®±å¯é–åœ¨è»Šå°¾ç®±ï¼Œæ¸›è¼•æ¬é‹è² æ“”ã€‚
                    </p>
                </div>
            </div>
            <div class="h-10"></div>
        `;
        contentArea.innerHTML = html;

        const ctx = document.getElementById('budgetChart').getContext('2d');
        new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: ['é…’åº— (4åŸ)', 'ç¾é£Ÿ', 'äº¤é€š (ç’°ç·š)', 'ç©æ¨‚'],
                datasets: [{
                    data: [3500, 2800, 1500, 700],
                    backgroundColor: ['#A7F3D0', '#FDBA74', '#FDA4AF', '#93C5FD'],
                    borderWidth: 0,
                    hoverOffset: 10
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: { font: { family: "'Zen Maru Gothic', sans-serif" } }
                    }
                }
            }
        });
    }

    renderDay(0);
</script>
</body>
</html>
